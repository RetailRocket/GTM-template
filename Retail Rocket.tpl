___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Retail Rocket",
  "categories": ["ANALYTICS", "ATTRIBUTION", "CONVERSIONS", "DATA_WAREHOUSING", "EMAIL_MARKETING", "PERSONALIZATION" ],
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/jpeg;base64,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\u003d"
  },
  "description": "Retail Rocket integration template.\nTracking of user interactions. You business personalisation.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "SELECT",
    "name": "Track Type",
    "displayName": "Track Type",
    "macrosInSelect": false,
    "selectItems": [
      {
        "value": "main",
        "displayValue": "Main tracking code"
      },
      {
        "value": "product",
        "displayValue": "Product page tracker"
      },
      {
        "value": "category",
        "displayValue": "Category page tracker"
      },
      {
        "value": "add",
        "displayValue": "Add to cart tracker"
      },
      {
        "value": "transaction",
        "displayValue": "Transaction tracker"
      },
      {
        "value": "email",
        "displayValue": "Email tracking code"
      },
      {
        "value": "search",
        "displayValue": "Search tracker"
      }
    ],
    "simpleValueType": true
  },
  {
    "type": "TEXT",
    "name": "rrPartnerId",
    "displayName": "rrPartnerId",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "STRING_LENGTH",
        "args": [
          24,
          24
        ]
      }
    ],
    "enablingConditions": [
      {
        "paramName": "Track Type",
        "paramValue": "main",
        "type": "EQUALS"
      }
    ],
    "help": "enter your rrPartnerId"
  },
  {
    "type": "GROUP",
    "name": "Search",
    "displayName": "",
    "groupStyle": "NO_ZIPPY",
    "subParams": [
      {
        "type": "CHECKBOX",
        "name": "useQuery",
        "checkboxText": "Use Query from url",
        "simpleValueType": true,
        "help": "Example:if url contains query with search phrase mysite.com?q\u003dsearchPhrase enter query key: q",
        "displayName": ""
      },
      {
        "type": "TEXT",
        "name": "queryURL",
        "displayName": "enter query key",
        "simpleValueType": true,
        "enablingConditions": [
          {
            "paramName": "useQuery",
            "paramValue": true,
            "type": "EQUALS"
          }
        ],
        "valueValidators": [
          {
            "type": "NON_EMPTY"
          }
        ]
      },
      {
        "type": "SELECT",
        "name": "searchVar",
        "displayName": "",
        "macrosInSelect": true,
        "selectItems": [],
        "simpleValueType": true,
        "enablingConditions": [
          {
            "paramName": "useQuery",
            "paramValue": false,
            "type": "EQUALS"
          }
        ]
      }
    ],
    "enablingConditions": [
      {
        "paramName": "Track Type",
        "paramValue": "search",
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "RADIO",
    "name": "Add to cart Datashema",
    "displayName": "Select  Datashema",
    "radioItems": [
      {
        "value": "ga",
        "displayValue": "GA4 Google Tag Manager Code"
      },
      {
        "value": "ua",
        "displayValue": "Universal Analytics Google Tag Manager Code"
      }
    ],
    "simpleValueType": true,
    "enablingConditions": [
      {
        "paramName": "Track Type",
        "paramValue": "add",
        "type": "EQUALS"
      }
    ],
    "help": "read more https://ga-dev-tools.google/enhanced-ecommerce/ https://enhancedecommerce.appspot.com/"
  },
  {
    "type": "RADIO",
    "name": "Product Datashema",
    "displayName": "Select  Datashema",
    "radioItems": [
      {
        "value": "ga",
        "displayValue": "GA4 Google Tag Manager Code"
      },
      {
        "value": "ua",
        "displayValue": "Universal Analytics Google Tag Manager Code"
      }
    ],
    "simpleValueType": true,
    "enablingConditions": [
      {
        "paramName": "Track Type",
        "paramValue": "product",
        "type": "EQUALS"
      }
    ],
    "help": "read more https://ga-dev-tools.google/enhanced-ecommerce/ https://enhancedecommerce.appspot.com/"
  },
  {
    "type": "RADIO",
    "name": "Transaction Datashema",
    "displayName": "Select  Datashema",
    "radioItems": [
      {
        "value": "ga",
        "displayValue": "GA4 Google Tag Manager Code"
      },
      {
        "value": "ua",
        "displayValue": "Universal Analytics Google Tag Manager Code"
      }
    ],
    "simpleValueType": true,
    "enablingConditions": [
      {
        "paramName": "Track Type",
        "paramValue": "transaction",
        "type": "EQUALS"
      }
    ],
    "help": "read more https://ga-dev-tools.google/enhanced-ecommerce/ https://enhancedecommerce.appspot.com/"
  },
  {
    "type": "GROUP",
    "name": "Email",
    "displayName": "",
    "groupStyle": "NO_ZIPPY",
    "subParams": [
      {
        "type": "CHECKBOX",
        "name": "Variables from tag manager",
        "checkboxText": "Variables from tag manager",
        "simpleValueType": true,
        "help": "Send data to Datalayer likedataLayer.push({   \"email\": \"test@t.com\" }); dataLayer.push({   \"stockId\": \"Amsterdam\" });  dataLayer.push({   \"gender\": \"Non-binary\" }); dataLayer.push({   \"age\": \"27\" }); dataLayer.push({   \"birthday\": \"15.01.1983\" }); or choose variables from tag manager."
      },
      {
        "type": "SELECT",
        "name": "email",
        "displayName": "email",
        "macrosInSelect": true,
        "selectItems": [],
        "simpleValueType": true,
        "enablingConditions": [
          {
            "paramName": "Variables from tag manager",
            "paramValue": true,
            "type": "EQUALS"
          }
        ]
      },
      {
        "type": "SELECT",
        "name": "stockId",
        "displayName": "stockId",
        "macrosInSelect": true,
        "selectItems": [],
        "simpleValueType": true,
        "enablingConditions": [
          {
            "paramName": "Variables from tag manager",
            "paramValue": true,
            "type": "EQUALS"
          }
        ]
      },
      {
        "type": "SELECT",
        "name": "gender",
        "displayName": "gender",
        "macrosInSelect": true,
        "selectItems": [],
        "simpleValueType": true,
        "enablingConditions": [
          {
            "paramName": "Variables from tag manager",
            "paramValue": true,
            "type": "EQUALS"
          }
        ]
      },
      {
        "type": "SELECT",
        "name": "age",
        "displayName": "age",
        "macrosInSelect": true,
        "selectItems": [],
        "simpleValueType": true,
        "enablingConditions": [
          {
            "paramName": "Variables from tag manager",
            "paramValue": true,
            "type": "EQUALS"
          }
        ]
      },
      {
        "type": "SELECT",
        "name": "birthday",
        "displayName": "birthday",
        "macrosInSelect": true,
        "selectItems": [],
        "simpleValueType": true,
        "enablingConditions": [
          {
            "paramName": "Variables from tag manager",
            "paramValue": true,
            "type": "EQUALS"
          }
        ]
      }
    ],
    "enablingConditions": [
      {
        "paramName": "Track Type",
        "paramValue": "email",
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "productStockId",
    "displayName": "",
    "groupStyle": "NO_ZIPPY",
    "subParams": [
      {
        "type": "CHECKBOX",
        "name": "Variables from tag manage product",
        "checkboxText": "stock_id from tag manager variables",
        "simpleValueType": true,
        "help": "Send data to Datalayer like dataLayer.push({   \"stockId\": \"Amsterdam\" }); or choose variables from tag manager."
      },
      {
        "type": "SELECT",
        "name": "stock_id_pr",
        "displayName": "stock_id",
        "macrosInSelect": true,
        "selectItems": [],
        "simpleValueType": true,
        "enablingConditions": [
          {
            "paramName": "Variables from tag manage product",
            "paramValue": true,
            "type": "EQUALS"
          }
        ]
      }
    ],
    "enablingConditions": [
      {
        "paramName": "Track Type",
        "paramValue": "product",
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "addStockId",
    "displayName": "",
    "groupStyle": "NO_ZIPPY",
    "subParams": [
      {
        "type": "CHECKBOX",
        "name": "Variables from tag manage add",
        "checkboxText": "stock_id from tag manager variables",
        "simpleValueType": true,
        "help": "Send data to Datalayer like dataLayer.push({   \"stockId\": \"Amsterdam\" }); or choose variables from tag manager."
      },
      {
        "type": "SELECT",
        "name": "stock_id_add",
        "displayName": "stock_id",
        "macrosInSelect": true,
        "selectItems": [],
        "simpleValueType": true,
        "enablingConditions": [
          {
            "paramName": "Variables from tag manage add",
            "paramValue": true,
            "type": "EQUALS"
          }
        ]
      }
    ],
    "enablingConditions": [
      {
        "paramName": "Track Type",
        "paramValue": "add",
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "GROUP",
    "name": "Category var",
    "displayName": "",
    "groupStyle": "NO_ZIPPY",
    "subParams": [
      {
        "type": "CHECKBOX",
        "name": "Variables from tag manage category",
        "checkboxText": "category_id from tag manager variables",
        "simpleValueType": true,
        "help": "Send data to Datalayer like dataLayer.push({   \"category_id\": \"333\" }); or choose variables from tag manager."
      },
      {
        "type": "SELECT",
        "name": "categoryId",
        "displayName": "category_id",
        "macrosInSelect": true,
        "selectItems": [],
        "simpleValueType": true,
        "enablingConditions": [
          {
            "paramName": "Variables from tag manage category",
            "paramValue": true,
            "type": "EQUALS"
          }
        ]
      }
    ],
    "enablingConditions": [
      {
        "paramName": "Track Type",
        "paramValue": "category",
        "type": "EQUALS"
      }
    ]
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const log = require('logToConsole');
log('data =', data);
const varSet = require('setInWindow');
const injectScript = require('injectScript');
//main
if (data["Track Type"] == "main") {
const InWindow = require('callInWindow');
let id = data.rrPartnerId;
varSet('rrPartnerId', id);
let rrApi = {};
rrApi.addToBasket = rrApi.order = rrApi.categoryView = rrApi.view = 
rrApi.recomMouseDown = rrApi.recomAddToCart = function() {};
varSet('rrApi', rrApi);
let rrApiOnReady = [];
varSet('rrApiOnReady', rrApiOnReady);
injectScript("//cdn.retailrocket.net/content/javascript/tracking.js");}
//product
else if (data["Track Type"] == "product"){
const copyFromWindow = require('copyFromWindow');
const copyFromDataLayer = require('copyFromDataLayer');
const dl = copyFromDataLayer('ecommerce');
log(dl);
const stockId = copyFromDataLayer('stockId');
var ids = [];
var i=0;
if (data["Product Datashema"] == "ua") {
for (i = 0; i < dl.detail.products.length; i++) {
ids.push(dl.detail.products[i].id);
}} else if (data["Product Datashema"] == "ga")
{for (i = 0; i < dl.items.length; i++) {
ids.push(dl.items[i].item_id);}}
log(ids);
const rrApi = copyFromWindow('rrApi');
if (data["Variables from tag manage product"] == true) {
let stock_id_pr = data.stock_id_pr;
rrApi.groupView(ids, {"stockId": stock_id_pr});}
else {
if(stockId != undefined) {
rrApi.groupView(ids, {"stockId": stockId});}
else {
rrApi.groupView(ids);}}}
//category
else if (data["Track Type"] == "category"){
const copyFromWindow = require('copyFromWindow');
const rrApi = copyFromWindow('rrApi');
if (data["Variables from tag manage category"] == true){
let category_id = data.categoryId;
log(category_id);
rrApi.categoryView(category_id);}
else {const copyFromDataLayer = require('copyFromDataLayer');
const category_id = copyFromDataLayer('category_id');
rrApi.categoryView(category_id);}}
//add
else if (data["Track Type"] == "add"){
const copyFromWindow = require('copyFromWindow');
const copyFromDataLayer = require('copyFromDataLayer');
const rrApi = copyFromWindow('rrApi');
const dl = copyFromDataLayer('ecommerce');
const stockId = copyFromDataLayer('stockId');
if(data["Add to cart Datashema"] == "ua") {
var add_id = dl.add.products[0].id;}
else if (data["Add to cart Datashema"] == "ga") {
var add_id = dl.items[0].item_id;}
if (data["Variables from tag manage add"] == true) {
let stock_id_add = data.stock_id_add;
rrApi.addToBasket(add_id, {'stockId': stock_id_add});}
else{if(stockId != undefined) {
rrApi.addToBasket(add_id, {'stockId': stockId});}
else {rrApi.addToBasket(add_id);}}}
//transaction
else if (data["Track Type"] == "transaction"){
const copyFromWindow = require('copyFromWindow');
const rrApi = copyFromWindow('rrApi');
const copyFromDataLayer = require('copyFromDataLayer');
const dl = copyFromDataLayer('ecommerce');
var items = [];
var i = 0;
if (data["Transaction Datashema"] == "ua") {
var tr_id = dl.purchase.actionField.id;
for (i = 0; i < dl.purchase.products.length; i++) {
items.push({ "id": dl.purchase.products[i].id, "qnt": dl.purchase.products[i].quantity, "price": dl.purchase.products[i].price });}}
else if (data["Transaction Datashema"] == "ga") {
var tr_id = dl.transaction_id;
for (i = 0; i < dl.items.length; i++) {
items.push({ "id": dl.items[i].item_id, "qnt": dl.items[i].quantity, "price": dl.items[i].price });}}
rrApi.order({
         "transaction": tr_id,
         "items": items
      });}
//email
else if (data["Track Type"] == "email"){
const copyFromWindow = require('copyFromWindow');
if (data["Variables from tag manager"] == true) {
let email = data.email;
let stockId = data.stockId;
let gender = data.gender;
let age = data.age;
let birthday = data.birthday;
let cObj = {};
if(stockId != undefined) {cObj.stockId = stockId;}
if(gender != undefined) {cObj.gender = gender;}
if(age != undefined) {cObj.age = age;}
if(birthday != undefined) {cObj.birthday = birthday;}
const rrApi = copyFromWindow('rrApi');
rrApi.setEmail(email, cObj);
} else{
const copyFromWindow = require('copyFromWindow');
const copyFromDataLayer = require('copyFromDataLayer');
let cObj = {};
const email = copyFromDataLayer('email');
const stockId = copyFromDataLayer('stockId');
const gender = copyFromDataLayer('gender');
const age = copyFromDataLayer('age');
const birthday  = copyFromDataLayer('birthday');
if(stockId != undefined) {cObj.stockId = stockId;}
if(gender != undefined) {cObj.gender = gender;}
if(age != undefined) {cObj.age = age;}
if(birthday != undefined) {cObj.birthday = birthday;}
const rrApi = copyFromWindow('rrApi');
rrApi.setEmail(email, cObj);}}
//search
else if (data["Track Type"] == "search"){
const copyFromWindow = require('copyFromWindow');
const rrApi = copyFromWindow('rrApi');
if (data.useQuery == true) {
const getQueryParameters = require('getQueryParameters');
let queryURL = data.queryURL;
let query = getQueryParameters(queryURL);
log(query);
rrApi.search(query);}
else {
let searchVar = data.searchVar;
log(searchVar);
rrApi.search(searchVar);}}
data.gtmOnSuccess();


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "rrPartnerId"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "rrApiOnReady"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "rrApi"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://cdn.retailrocket.net/content/javascript/tracking.js"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "get_url",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urlParts",
          "value": {
            "type": 1,
            "string": "any"
          }
        },
        {
          "key": "queriesAllowed",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "read_data_layer",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keyPatterns",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "ecommerce"
              },
              {
                "type": 1,
                "string": "stockId"
              },
              {
                "type": 1,
                "string": "category_id"
              },
              {
                "type": 1,
                "string": "email"
              },
              {
                "type": 1,
                "string": "gender"
              },
              {
                "type": 1,
                "string": "age"
              },
              {
                "type": 1,
                "string": "birthday"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 05/06/2023, 12:12:56


